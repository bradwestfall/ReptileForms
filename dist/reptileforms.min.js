!function(e,t,r,a){ReptileForm=function(t,r){var a=this;return a.customValidationFunctions=[],a.el=e(t),a.el.length?(a.settings=e.extend(!0,{xhr:!0,expressions:{number:{rule:/^\d+$/,msg:"Invalid Number"},email:{rule:/^[a-zA-Z0-9._-]+@[\.a-zA-Z0-9-]+\.[a-zA-Z.]{2,5}$/,msg:"Invalid Email."},password:{rule:/^[\040-\176]{6,}$/,msg:"Invalid Password, Must be at least 6 characters."}}},r),a.el.attr("novalidate","novalidate"),a.clearErrors(),a.clearValues(),!a.el.attr("method")&&a.settings.xhr&&a.el.attr("method","POST"),!a.el.attr("action")&&a.settings.xhr&&console.error("ReptileForm: action attribue is required when in xhr mode"),a.el.children("input, select, textarea, .field-input").each(function(){if(e(this).parents(".field").length)return!1;var t=e(this);switch(!0){case"hidden"==t.attr("type"):a.renderHiddenField(t);break;case t.hasClass("field-input"):t.replaceWith(a.renderCustomField(t));break;default:t.replaceWith(a.renderField(t))}}),a.el.on("submit",function(){return e(a).trigger("beforeValidation"),a.validForm(this)?(e(a).trigger("beforeSubmit"),a.settings.xhr?a.submit(a.el.attr("action"),a.getValues()):!0):(e(a).trigger("validationError",[a.getErrors()]),!1)}),a.customValidation=function(e,t){this.customValidationFunctions[e]=t},a.customValidation("validateRadioGroup",function(e,t){{var r=e.find("input:checked").val();e.data("name")}return e.data("required")&&!r&&t("Value Is Required"),r}),void a.customValidation("validateCheckboxGroup",function(t){{var r=e('input[type="checkbox"]:checked').map(function(){return e(this).val()}).get();t.data("name")}return t.data("required")&&!r.length&&error("Value Is Required"),r})):!1},ReptileForm.prototype.on=function(t,r){e(this).on(t,r)},ReptileForm.prototype.submit=function(t,r){var a=this;return e.ajax({cache:!1,type:a.el.attr("method"),dataType:"JSON",url:t,data:r,success:function(t){e(a).trigger("xhrSuccess",t)},error:function(t,r,i){e(a).trigger("xhrError",t,r,i)}}),!1},ReptileForm.prototype.renderField=function(t){var a=t.attr("name"),i=t.attr("title")||null,n=Boolean(t.attr("required")),o=t.data("exp-name")||null,l=t.data("custom-validation")||null;if(!a)return console.error("ReptileForm: Unknown Field removed - name attribute not given"),null;var d=e(t[0].outerHTML);d.removeAttr("title data-exp-name");var d=e(r.createElement("div")).addClass("field-input").html(d),s="";switch(t[0].tagName.toLowerCase()){case"select":s="select";break;case"textarea":s="textarea";break;case"input":default:s="text"}return e(r.createElement("div")).data("name",a).data("title",i?i:a).data("exp-name",o).data("custom-validation",l).data("required",n).addClass("field").addClass(a).addClass(n?"required":null).addClass(s).append(i?"<label>"+i+"</label>":null).append(d)},ReptileForm.prototype.renderCustomField=function(t){var i=t.data("type");switch(i!==a&&i.toLowerCase()){case"radio-group":var n=t.find('input[type="radio"]').first(),o=n.attr("name"),l=Boolean(n.attr("required")),d="validateRadioGroup";break;case"checkbox-group":var n=t.find('input[type="checkbox"]').first(),o=n.attr("name"),l=Boolean(n.attr("required")),d="validateCheckboxGroup";break;default:var o=t.data("name")||null,l=Boolean(t.data("required")),d=t.data("custom-validation")||null}var s=t.attr("title");if(!o)return console.error("ReptileForm: Unknown Field removed - name attribute not given"),null;var u=e(t[0].outerHTML);return u.removeAttr("data-name data-required data-type data-custom-validation"),e(r.createElement("div")).data("name",o).data("title",s).data("custom-validation",d).data("required",l).addClass("field").addClass(o).addClass(l?"required":null).addClass(i).append(s?"<label>"+s+"</label>":null).append(u)},ReptileForm.prototype.renderHiddenField=function(e){var t=e.attr("name"),r=t,a=Boolean(e.attr("required"));return t?(e.addClass("field").addClass(t).data("name",e.attr("name")).data("title",r).data("required",a),e.prop("outerHTML")):(console.error("ReptileForm: Unknown Hidden Field removed - name attribute not given"),null)},ReptileForm.prototype.validForm=function(t){var r=this,t=e(t);return r.clearErrors(),r.clearValues(),t.find(".field").each(function(){var t="",a=e(this),i=a.data("title"),n=a.data("name"),o=a.data("custom-validation");if(o&&e.isFunction(r.customValidationFunctions[o]))return t=r.customValidationFunctions[o].call(r,a,function(e){r.addError(n,i,e)}),void r.storeValue(n,t);if(t=r.getFieldValue(a),r.storeValue(n,t),a.data("required")||t){if(a.data("required")&&!t)return void r.addError(n,i,"Value is required");var l=a.data("exp-name");if(l&&r.settings.expressions){if(!r.settings.expressions[l])return console.error("Expresion: '"+l+"' has not been added to ReptileForms expressions"),!1;var d=r.settings.expressions[l],s=new RegExp(d.rule);d&&d.rule&&!s.test(t)&&r.addError(n,i,d.msg)}}}),e.isEmptyObject(r.getErrors())},ReptileForm.prototype.getFieldValue=function(e){{var t;e.data("name")}switch(!0){case e.attr("type")&&"hidden"==e.attr("type").toLowerCase():t=e.val();break;default:t=e.find("input, select, textarea").val()||null}return t},ReptileForm.prototype.addError=function(e,t,r){this.formErrors.push({name:e,title:t,msg:r})},ReptileForm.prototype.clearErrors=function(){this.formErrors=[]},ReptileForm.prototype.getErrors=function(){return this.formErrors},ReptileForm.prototype.storeValue=function(e,t){this.formValues[e]=t},ReptileForm.prototype.clearValues=function(){this.formValues={}},ReptileForm.prototype.getValues=function(){return this.formValues}}(jQuery,window,document);